<back></back>
<div class="container mt-3">
  <div class="row">
    <div class="col-xs-12 col-md-4 col-xl-5 col-lg-6">
      <mat-card style="width: 350px; background: rgba(255,255,255, .7);">
        <img [src]="'/assets/images/letters/' + imageSrc" mat-card-image />
        <mat-card-actions>
          <button mat-raised-button color="accent" class="w-100 fs-4 p-2">
            <i class="fas fa-volume-up"></i>&nbsp;Слушни
          </button>
        </mat-card-actions>
      </mat-card>
    </div>
    <div class="col-xs-12 col-md-8 col-xl-7 col-lg-6 position-relative" [class.wrong]="isWrong">
      <div class="position-absolute top-50 translate-middle">
        <span cdkDropList #answersList="cdkDropList" [cdkDropListData]="answers" [id]="'answers'" [cdkDropListConnectedTo]="[lettersList]" (cdkDropListDropped)="drop($event)"
              class="d-inline-block pt-4 drop-zone-wrapper" [ngClass]="[ isWrong ? 'border border-danger border-5': '', isCorrect ? 'border border-success border-5' : '']">
          <span *ngFor="let item of answers" cdkDrag [id]="item.Id" class="drop-zone ps-2 pe-2"
                [class.vowel-ltr]="item.IsVowel" [class.consonant-ltr]="!item.IsVowel">
            {{ item.Letter }}
          </span>
        </span>
        <div class="d-inline-block position-fixed pt-5">
          <span class="word-guess">
            {{ getImageText() }}
          </span>
        </div>
      </div>
    </div>
  </div>

  <div class="position-relative clearfix mb-5 pb-3">
    <button [hidden]="hideNext" mat-raised-button color="accent" (click)="next()" class="position-absolute top-0 end-0 fs-4 p-2" [disabled]="!isCorrect">
      Следно&nbsp;<i class="fas fa-arrow-right"></i>
    </button>
  </div>

  <hr />

  <div cdkDropList #lettersList="cdkDropList" [cdkDropListData]="letters" [id]="'letters'" [cdkDropListConnectedTo]="[answersList]" (cdkDropListDropped)="drop($event)">
    <div class="row g-1">
      <div class="col-xs-6 col-sm-6 col-md-2 col-lg-2 col-xl-2 col-xxl-1 d-inline-block text-center" *ngFor="let item of sortBy('Id')" cdkDrag [id]="item.Id">
        <mat-card class="w-100 mat-elevation-z8" [class.vowel]="item.IsVowel" [class.consonant]="!item.IsVowel" [class.used]="isUsed(item.Letter)" style="border-radius: 15px">
          <mat-card-content>
            <div class="letter pt-1">
              <span class="mr-2">{{ item.Letter }}</span>
              <span class="mr-2">{{ item.Letter | lowercase }}</span>
            </div>
          </mat-card-content>
          <mat-card-actions class="text-center">
            <button mat-mini-fab color="accent" class="mt-1" [hidden]="isUsed(item.Letter)">
              <i class="fas fa-volume-up"></i>
            </button>
          </mat-card-actions>
        </mat-card>
      </div>
    </div>
  </div>
</div>
